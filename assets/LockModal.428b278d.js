import{b as e,a1 as s,c as a}from"./index.6a5548ea.js";import{B as r,a as o}from"./index.1d3e54eb.js";import{c as t,d as i}from"./useForm.f93bccee.js";import{u as n}from"./lock.dd301a8d.js";import{B as d,j as l,Z as c,D as m,_ as p,a2 as f,H as u,K as x,J as j,w as h,a9 as k,a1 as v}from"./vendor.7c679a32.js";import"./useWindowSizeFn.bec912bd.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./const.ba9bd2e6.js";/* empty css              *//* empty css              *//* empty css              */import"./index.1c4a88d9.js";/* empty css              */import"./download.38a3a81a.js";import"./index.3b2c921a.js";import"./dateUtil.839e4f2c.js";var b=d({name:"LockModal",components:{BasicModal:r,BasicForm:t},setup(){const{t:r}=a(),{prefixCls:t}=e("header-lock-modal"),d=s(),c=n(),m=l((()=>{var e;return null==(e=d.getUserInfo)?void 0:e.nickName})),[p,{closeModal:f}]=o(),[u,{validateFields:x,resetFields:j}]=i({showActionButtonGroup:!1,schemas:[{field:"password",label:r("layout.header.lockScreenPassword"),component:"InputPassword",required:!0}]});return{t:r,prefixCls:t,getNickName:m,register:p,registerForm:u,handleLock:function(){return e=this,s=null,a=function*(){const e=(yield x()).password;f(),c.setLockInfo({isLock:!0,pwd:e}),yield j()},new Promise(((r,o)=>{var t=e=>{try{n(a.next(e))}catch(s){o(s)}},i=e=>{try{n(a.throw(e))}catch(s){o(s)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(t,i);n((a=a.apply(e,s)).next())}));var e,s,a},avatar:l((()=>{const{avatar:e}=d.getUserInfo;return e}))}}});const g=["src"];b.render=function(e,s,a,r,o,t){const i=c("BasicForm"),n=c("a-button"),d=c("BasicModal");return m(),p(d,v({footer:null,title:e.t("layout.header.lockScreen")},e.$attrs,{class:e.prefixCls,onRegister:e.register}),{default:f((()=>[u("div",{class:x(`${e.prefixCls}__entry`)},[u("div",{class:x(`${e.prefixCls}__header`)},[u("img",{src:e.avatar,class:x(`${e.prefixCls}__header-img`)},null,10,g),u("p",{class:x(`${e.prefixCls}__header-name`)},j(e.getNickName),3)],2),h(i,{onRegister:e.registerForm},null,8,["onRegister"]),u("div",{class:x(`${e.prefixCls}__footer`)},[h(n,{type:"primary",block:"",class:"mt-2",onClick:e.handleLock},{default:f((()=>[k(j(e.t("layout.header.lockScreenBtn")),1)])),_:1},8,["onClick"])],2)],2)])),_:1},16,["title","class","onRegister"])};export{b as default};
