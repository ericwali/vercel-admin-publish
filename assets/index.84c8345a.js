var e=(e,t,n)=>new Promise(((o,a)=>{var i=e=>{try{r(n.next(e))}catch(t){a(t)}},s=e=>{try{r(n.throw(e))}catch(t){a(t)}},r=e=>e.done?o(e.value):Promise.resolve(e.value).then(i,s);r((n=n.apply(e,t)).next())}));import{u as t,_ as n}from"./useTable.81787a2e.js";import{_ as o}from"./useForm.f93bccee.js";import{l as a,d as i}from"./tenant.97003ced.js";import{b as s}from"./index.1d3e54eb.js";import{c as r,s as d,_ as l}from"./TenantModal.vue_vue&type=script&setup=true&lang.3bfa22e6.js";import{a7 as c}from"./index.6a5548ea.js";import{B as u,N as m,Z as p,bE as f,D as b,E as j,w as h,a2 as x,F as g,u as y,a9 as _,t as w}from"./vendor.7c679a32.js";import"./props.df8b9a2a.js";import"./const.ba9bd2e6.js";import"./useWindowSizeFn.bec912bd.js";import"./onMountedOrActivated.51a605f4.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./dateUtil.839e4f2c.js";/* empty css              */import"./useSortable.7806d92e.js";/* empty css              *//* empty css              *//* empty css              */import"./index.1c4a88d9.js";/* empty css              */import"./download.38a3a81a.js";import"./index.3b2c921a.js";const v=_("新增多租户"),S=_("修改多租户"),C=_("删除多租户");var k=u({setup(u){const _=m({single:!0,multiple:!0}),{createConfirm:k,createMessage:R}=c(),[F,{openModal:T}]=s(),[M,{reload:E,clearSelectedRowKeys:I,getSelectRowKeys:K}]=t({title:"多租户列表",api:a,rowKey:"id",columns:r,formConfig:{labelWidth:120,schemas:d,autoSubmitOnEnter:!0},rowSelection:{type:"checkbox"},useSearchForm:!0,showTableSetting:!0,bordered:!0,clickToRowSelect:!1,showIndexColumn:!1,actionColumn:{width:220,title:"操作",dataIndex:"action",slots:{customRender:"action"},fixed:!1},handleSearchInfoFn:()=>I()});function O(e){const t=w(null==e?void 0:e.keys)||[];_.single=1!=t.length,_.multiple=!t.length}function P(e){e=e||{id:K()},T(!0,{_tag:"edit",record:e})}function W(t){return e(this,null,(function*(){const n=(null==t?void 0:t.id)||K();k({iconType:"warning",title:"警告",content:`是否确认删除多租户编号为${n}多租户吗?`,onOk:()=>e(this,null,(function*(){yield i(n),R.success("删除成功!"),q()}))})}))}function q(){I(),E()}return(e,t)=>{const a=p("a-button"),i=f("auth");return b(),j("div",null,[h(y(n),{onRegister:y(M),onSelectionChange:O},{toolbar:x((()=>[g(h(a,{type:"primary",onClick:t[0]||(t[0]=e=>{T(!0,{_tag:"add"})})},{default:x((()=>[v])),_:1},512),[[i,["tenant_add"]]]),g(h(a,{type:"primary",disabled:y(_).single,onClick:t[1]||(t[1]=e=>P())},{default:x((()=>[S])),_:1},8,["disabled"]),[[i,["tenant_edit"]]]),g(h(a,{type:"primary",disabled:y(_).multiple,onClick:t[2]||(t[2]=e=>W())},{default:x((()=>[C])),_:1},8,["disabled"]),[[i,["tenant_del"]]])])),action:x((({record:e})=>[h(y(o),{actions:[{label:"编辑",icon:"fa6-regular:pen-to-square",auth:["tenant_edit"],onClick:P.bind(null,e)},{label:"删除",icon:"ant-design:delete-outlined",color:"error",auth:["tenant_del"],onClick:W.bind(null,e)}]},null,8,["actions"])])),_:1},8,["onRegister"]),h(l,{onRegister:y(F),onSuccess:q},null,8,["onRegister"])])}}});export{k as default};
